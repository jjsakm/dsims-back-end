<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="egovframework.com.edoc.clsf.domain.repository.DocumentClassificationMapper">

	<resultMap id="documentClassification" type="egovframework.com.edoc.clsf.domain.model.DocumentClassificationVO">
		<result property="no" column="doc_clsf_no"/>
		<result property="divCode" column="doc_clsf_se_cd"/>
		<result property="name" column="doc_clsf_nm"/>
		<result property="parentNo" column="up_doc_clsf_no"/>
		<result property="includingPrivacy" column="prvc_incl_yn"/>
		<result property="use" column="use_en"/>
		<result property="created" column="reg_ymd"/>
		<result property="updated" column="mdfcn_ymd"/>
		<result property="author" column="rgtr_id"/>
		<result property="updateAuthor" column="mdfr_id"/>
	</resultMap>
	
	<sql id="fields">
		doc_clsf_no, 
		doc_clsf_se_cd, 
		doc_clsf_nm, 
		up_doc_clsf_no, 
		prvc_incl_yn, 
		use_en, 
		reg_ymd, 
		rgtr_id, 
		mdfcn_ymd, 
		mdfr_id
	</sql>
	
	<sql id="fromTables">
		tb_dr_m_doc_clsf
	</sql>


	<select id="select" resultType="egovframework.com.edoc.clsf.domain.model.DocumentClassificationVO">
		SELECT
			<include refid="fields"/>
		FROM
			<include refid="fromTables"/>
		WHERE
			doc_clsf_no = #{no}
 		
 	</select>

	<select id="selectListByDivCode" resultType="egovframework.com.edoc.clsf.domain.model.DocumentClassificationVO">
		SELECT
			<include refid="fields"/>
		FROM
			<include refid="fromTables"/>
		WHERE
			doc_clsf_se_cd = #{divCode}
 		
 	</select>
 	

 	<select id="selectListByParentNo" resultType="egovframework.com.edoc.clsf.domain.model.DocumentClassificationVO">
		SELECT
			<include refid="fields"/>
		FROM
			<include refid="fromTables"/>
		WHERE
			up_doc_clsf_no = #{parentNo}
 		
 	</select>
 	
</mapper>